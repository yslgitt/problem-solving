# ðŸ’š (SQL) ì¡°ê±´ì— ë§žëŠ” ì‚¬ìš©ìž ì •ë³´ ì¡°íšŒí•˜ê¸°

[ðŸ“ ë¬¸ì œë§í¬]: https://school.programmers.co.kr/learn/courses/30/lessons/164670



#### ðŸ’â€â™€ï¸ ë¬¸ì œ ì„¤ëª…

ë‹¤ìŒì€ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œíŒ ì •ë³´ë¥¼ ë‹´ì€ `USED_GOODS_BOARD` í…Œì´ë¸”ê³¼ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œíŒ ì²¨ë¶€íŒŒì¼ ì •ë³´ë¥¼ ë‹´ì€ `USED_GOODS_FILE` í…Œì´ë¸”ìž…ë‹ˆë‹¤. `USED_GOODS_BOARD` í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° `BOARD_ID`, `WRITER_ID`, `TITLE`, `CONTENTS`, `PRICE`, `CREATED_DATE`, `STATUS`, `VIEWS`ëŠ” ê²Œì‹œê¸€ ID, ìž‘ì„±ìž ID, ê²Œì‹œê¸€ ì œëª©, ê²Œì‹œê¸€ ë‚´ìš©, ê°€ê²©, ìž‘ì„±ì¼, ê±°ëž˜ìƒíƒœ, ì¡°íšŒìˆ˜ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

| Column name  | Type          | Nullable |
| ------------ | ------------- | -------- |
| BOARD_ID     | VARCHAR(5)    | FALSE    |
| WRITER_ID    | VARCHAR(50)   | FALSE    |
| TITLE        | VARCHAR(100)  | FALSE    |
| CONTENTS     | VARCHAR(1000) | FALSE    |
| PRICE        | NUMBER        | FALSE    |
| CREATED_DATE | DATE          | FALSE    |
| STATUS       | VARCHAR(10)   | FALSE    |
| VIEWS        | NUMBER        | FALSE    |

`USED_GOODS_USER` í…Œì´ë¸”ì€ ë‹¤ìŒê³¼ ê°™ìœ¼ë©° `USER_ID`, `NICKNAME`, `CITY`, `STREET_ADDRESS1`, `STREET_ADDRESS2`, `TLNO`ëŠ” ê°ê° íšŒì› ID, ë‹‰ë„¤ìž„, ì‹œ, ë„ë¡œëª… ì£¼ì†Œ, ìƒì„¸ ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.

| Column name     | Type         | Nullable |
| --------------- | ------------ | -------- |
| USER_ID         | VARCHAR(50)  | FALSE    |
| NICKANME        | VARCHAR(100) | FALSE    |
| CITY            | VARCHAR(100) | FALSE    |
| STREET_ADDRESS1 | VARCHAR(100) | FALSE    |
| STREET_ADDRESS2 | VARCHAR(100) | TRUE     |
| TLNO            | VARCHAR(20)  | FALSE    |



##### ë¬¸ì œ

`USED_GOODS_BOARD`ì™€ `USED_GOODS_USER` í…Œì´ë¸”ì—ì„œ ì¤‘ê³  ê±°ëž˜ ê²Œì‹œë¬¼ì„ 3ê±´ ì´ìƒ ë“±ë¡í•œ ì‚¬ìš©ìžì˜ ì‚¬ìš©ìž ID, ë‹‰ë„¤ìž„, ì „ì²´ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ì¡°íšŒí•˜ëŠ” SQLë¬¸ì„ ìž‘ì„±í•´ì£¼ì„¸ìš”. ì´ë•Œ, ì „ì²´ ì£¼ì†ŒëŠ” ì‹œ, ë„ë¡œëª… ì£¼ì†Œ, ìƒì„¸ ì£¼ì†Œê°€ í•¨ê»˜ ì¶œë ¥ë˜ë„ë¡ í•´ì£¼ì‹œê³ , ì „í™”ë²ˆí˜¸ì˜ ê²½ìš° xxx-xxxx-xxxx ê°™ì€ í˜•íƒœë¡œ í•˜ì´í”ˆ ë¬¸ìžì—´(`-`)ì„ ì‚½ìž…í•˜ì—¬ ì¶œë ¥í•´ì£¼ì„¸ìš”. ê²°ê³¼ëŠ” íšŒì› IDë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬í•´ì£¼ì„¸ìš”.



##### ì˜ˆì‹œ

`USED_GOODS_BOARD` í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ê³ 

| BOARD_ID | WRITER_ID | TITLE                  | CONTENTS                                          | PRICE  | CREATED_DATE | STATUS | VIEWS |
| -------- | --------- | ---------------------- | ------------------------------------------------- | ------ | ------------ | ------ | ----- |
| B0001    | dhfkzmf09 | ì¹¼ë¼ê±°íŽ íŠ¸ ì½”íŠ¸        | ì–‘ëª¨ 70%ì´ìƒ ì½”íŠ¸ìž…ë‹ˆë‹¤.                          | 120000 | 2022-10-14   | DONE   | 104   |
| B0002    | lee871201 | êµ­ë‚´ì‚° ë³¶ìŒì°¸ê¹¨        | ì§ì ‘ ë†ì‚¬ì§€ì€ ì°¸ê¹¨ìž…ë‹ˆë‹¤.                         | 3000   | 2022-10-02   | DONE   | 121   |
| B0003    | dhfkzmf09 | ë‚˜ì´í‚¤ ìˆíŒ¨íŒ…          | ì‚¬ì´ì¦ˆëŠ” Mìž…ë‹ˆë‹¤.                                 | 40000  | 2022-10-17   | DONE   | 98    |
| B0004    | kwag98    | ë°˜ë ¤ê²¬ ë°°ë³€íŒ¨ë“œ íŒë‹ˆë‹¤ | ì •ë§ ì €ë ´ížˆ íŒë§¤í•©ë‹ˆë‹¤. ì „ë¶€ ë¯¸ê°œë´‰ ìƒˆìƒí’ˆìž…ë‹ˆë‹¤. | 12000  | 2022-10-01   | DONE   | 250   |
| B0005    | dhfkzmf09 | PS4                    | PS5 êµ¬ë§¤ë¡œì¸í•´ íŒë‹ˆë‹¤.                            | 250000 | 2022-11-03   | DONE   | 111   |

`USED_GOODS_USER` í…Œì´ë¸”ì´ ë‹¤ìŒê³¼ ê°™ì„ ë•Œ

| USER_ID   | NICKNAME   | CITY   | STREET_ADDRESS1   | STREET_ADDRESS2 | TLNO        |
| --------- | ---------- | ------ | ----------------- | --------------- | ----------- |
| dhfkzmf09 | ì°ì°       | ì„±ë‚¨ì‹œ | ë¶„ë‹¹êµ¬ ìˆ˜ë‚´ë¡œ 13  | Aë™ 1107í˜¸      | 01053422914 |
| dlPcks90  | ì¹ì¹       | ì„±ë‚¨ì‹œ | ë¶„ë‹¹êµ¬ ìˆ˜ë‚´ë¡œ 74  | 401í˜¸           | 01034573944 |
| cjfwls91  | ì ì‹¬ë§Œê¸ˆì‹ | ì„±ë‚¨ì‹œ | ë¶„ë‹¹êµ¬ ë‚´ì •ë¡œ 185 | 501í˜¸           | 01036344964 |
| dlfghks94 | í¬ë§       | ì„±ë‚¨ì‹œ | ë¶„ë‹¹êµ¬ ë‚´ì •ë¡œ 101 | 203ë™ 102í˜¸     | 01032634154 |
| rkdhs95   | ìš©ê¸°       | ì„±ë‚¨ì‹œ | ë¶„ë‹¹êµ¬ ìˆ˜ë‚´ë¡œ 23  | 501í˜¸           | 01074564564 |

SQLì„ ì‹¤í–‰í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì´ ì¶œë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

| USER_ID   | NICKNAME | ì „ì²´ì£¼ì†Œ                           | ì „í™”ë²ˆí˜¸      |
| --------- | -------- | ---------------------------------- | ------------- |
| dhfkzmf09 | ì°ì°     | ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ ìˆ˜ë‚´ë¡œ 13 Aë™ 1107í˜¸ | 010-5342-2914 |

----



#### ðŸ¤¸â€â™‚ï¸ ë¬¸ì œ í•´ê²°

```mysql
SELECT USER_ID, NICKNAME, 
        CONCAT(CITY," ",STREET_ADDRESS1," ", STREET_ADDRESS2) AS 'ì „ì²´ì£¼ì†Œ',
        CONCAT(SUBSTR(TLNO,1,3),"-",SUBSTR(TLNO,4,4),"-",SUBSTR(TLNO,8,4)) AS 'ì „í™”ë²ˆí˜¸'
FROM USED_GOODS_BOARD
JOIN USED_GOODS_USER
ON USED_GOODS_BOARD.WRITER_ID = USED_GOODS_USER.USER_ID
GROUP BY WRITER_ID
HAVING COUNT(WRITER_ID) >= 3
ORDER BY USER_ID DESC
```



