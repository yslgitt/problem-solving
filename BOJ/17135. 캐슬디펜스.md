# ğŸ‘» 17135. ìºìŠ¬ë””íœìŠ¤

[ğŸ“ ë¬¸ì œë§í¬]: https://www.acmicpc.net/problem/17135



#### ğŸ’â€â™€ï¸ ë¬¸ì œ ì„¤ëª…

ìºìŠ¬ ë””íœìŠ¤ëŠ” ì„±ì„ í–¥í•´ ëª°ë ¤ì˜¤ëŠ” ì ì„ ì¡ëŠ” í„´ ë°©ì‹ì˜ ê²Œì„ì´ë‹¤. ê²Œì„ì´ ì§„í–‰ë˜ëŠ” ê³³ì€ í¬ê¸°ê°€ NÃ—Mì¸ ê²©ìíŒìœ¼ë¡œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆë‹¤. ê²©ìíŒì€ 1Ã—1 í¬ê¸°ì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆê³ , ê° ì¹¸ì— í¬í•¨ëœ ì ì˜ ìˆ˜ëŠ” ìµœëŒ€ í•˜ë‚˜ì´ë‹¤. ê²©ìíŒì˜ Në²ˆí–‰ì˜ ë°”ë¡œ ì•„ë˜(N+1ë²ˆ í–‰)ì˜ ëª¨ë“  ì¹¸ì—ëŠ” ì„±ì´ ìˆë‹¤.

ì„±ì„ ì ì—ê²Œì„œ ì§€í‚¤ê¸° ìœ„í•´ ê¶ìˆ˜ 3ëª…ì„ ë°°ì¹˜í•˜ë ¤ê³  í•œë‹¤. ê¶ìˆ˜ëŠ” ì„±ì´ ìˆëŠ” ì¹¸ì— ë°°ì¹˜í•  ìˆ˜ ìˆê³ , í•˜ë‚˜ì˜ ì¹¸ì—ëŠ” ìµœëŒ€ 1ëª…ì˜ ê¶ìˆ˜ë§Œ ìˆì„ ìˆ˜ ìˆë‹¤. ê°ê°ì˜ í„´ë§ˆë‹¤ ê¶ìˆ˜ëŠ” ì  í•˜ë‚˜ë¥¼ ê³µê²©í•  ìˆ˜ ìˆê³ , ëª¨ë“  ê¶ìˆ˜ëŠ” ë™ì‹œì— ê³µê²©í•œë‹¤. ê¶ìˆ˜ê°€ ê³µê²©í•˜ëŠ” ì ì€ ê±°ë¦¬ê°€ Dì´í•˜ì¸ ì  ì¤‘ì—ì„œ ê°€ì¥ ê°€ê¹Œìš´ ì ì´ê³ , ê·¸ëŸ¬í•œ ì ì´ ì—¬ëŸ¿ì¼ ê²½ìš°ì—ëŠ” ê°€ì¥ ì™¼ìª½ì— ìˆëŠ” ì ì„ ê³µê²©í•œë‹¤. ê°™ì€ ì ì´ ì—¬ëŸ¬ ê¶ìˆ˜ì—ê²Œ ê³µê²©ë‹¹í•  ìˆ˜ ìˆë‹¤. ê³µê²©ë°›ì€ ì ì€ ê²Œì„ì—ì„œ ì œì™¸ëœë‹¤. ê¶ìˆ˜ì˜ ê³µê²©ì´ ëë‚˜ë©´, ì ì´ ì´ë™í•œë‹¤. ì ì€ ì•„ë˜ë¡œ í•œ ì¹¸ ì´ë™í•˜ë©°, ì„±ì´ ìˆëŠ” ì¹¸ìœ¼ë¡œ ì´ë™í•œ ê²½ìš°ì—ëŠ” ê²Œì„ì—ì„œ ì œì™¸ëœë‹¤. ëª¨ë“  ì ì´ ê²©ìíŒì—ì„œ ì œì™¸ë˜ë©´ ê²Œì„ì´ ëë‚œë‹¤. 

ê²Œì„ ì„¤ëª…ì—ì„œ ë³´ë‹¤ì‹œí”¼ ê¶ìˆ˜ë¥¼ ë°°ì¹˜í•œ ì´í›„ì˜ ê²Œì„ ì§„í–‰ì€ ì •í•´ì ¸ìˆë‹¤. ë”°ë¼ì„œ, ì´ ê²Œì„ì€ ê¶ìˆ˜ì˜ ìœ„ì¹˜ê°€ ì¤‘ìš”í•˜ë‹¤. ê²©ìíŒì˜ ìƒíƒœê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ê¶ìˆ˜ì˜ ê³µê²©ìœ¼ë¡œ ì œê±°í•  ìˆ˜ ìˆëŠ” ì ì˜ ìµœëŒ€ ìˆ˜ë¥¼ ê³„ì‚°í•´ë³´ì.

ê²©ìíŒì˜ ë‘ ìœ„ì¹˜ (r1, c1), (r2, c2)ì˜ ê±°ë¦¬ëŠ” |r1-r2| + |c1-c2|ì´ë‹¤.



##### ì…ë ¥

> ì²«ì§¸ ì¤„ì— ê²©ìíŒ í–‰ì˜ ìˆ˜ N, ì—´ì˜ ìˆ˜ M, ê¶ìˆ˜ì˜ ê³µê²© ê±°ë¦¬ ì œí•œ Dê°€ ì£¼ì–´ì§„ë‹¤. ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì—ëŠ” ê²©ìíŒì˜ ìƒíƒœê°€ ì£¼ì–´ì§„ë‹¤. 0ì€ ë¹ˆ ì¹¸, 1ì€ ì ì´ ìˆëŠ” ì¹¸ì´ë‹¤.
>
> - 3 â‰¤ N, M â‰¤ 15
> - 1 â‰¤ D â‰¤ 10



##### ì¶œë ¥

> ì²«ì§¸ ì¤„ì— ê¶ìˆ˜ì˜ ê³µê²©ìœ¼ë¡œ ì œê±°í•  ìˆ˜ ìˆëŠ” ì ì˜ ìµœëŒ€ ìˆ˜ë¥¼ ì¶œë ¥í•œë‹¤.



-----



#### ğŸ¤¸â€â™‚ï¸ ë¬¸ì œ í•´ê²°

```python
import itertools

N, M, D = map(int,input().split())
graph = [list(map(int,input().split())) for _ in range(N)]

tg = []
for i in range(M):
    for j in range(N-1, -1, -1):
        if graph[j][i]:
            tg.append((j,i))

archs = itertools.combinations([i for i in range(M)], 3)

mx = 0
for arch in archs: #  ê¶ìˆ˜ ìœ„ì¹˜ ê²½ìš°ì˜ ìˆ˜
    killed = [] # ì£½ì¸ ì 
    for nn in range(N, 0, -1): # í•œ í„´ì”© ì§„í–‰
        tmp = [] # í„´ë§ˆë‹¤ ì£½ì¸ ì  ë¦¬ìŠ¤íŠ¸
        for nm in arch: # ê¶ìˆ˜ í•œëª…ì”© ëŒì•„ê°€ë©° ì§„í–‰
            d, tx, ty = 1e9, 16, 16
            for n, m in tg: # ì  êº¼ë‚´ì˜´
                if n < nn and abs(nn-n)+abs(nm-m) <= D and (n, m) not in killed: # ì‚¬ë¼ì§€ì§€ ì•Šì€ ì  + ê±°ë¦¬ ì¶©ì¡± + ì£½ì§€ ì•ŠìŒ
                    if abs(nn-n)+abs(nm-m) < d: # ê·¸ ì¤‘ ê±°ë¦¬ê°€ ê°€ì¥ ì§§ìŒ
                        d, tx, ty = abs(nn-n) + abs(nm-m), n, m # ê°±ì‹ 
            if d != 1e9 and (tx, ty) not in tmp:  # ì£½ì˜€ê³ , ë‹¤ë¥¸ ê¶ìˆ˜ê°€ ì£½ì´ì§€ ì•Šì•˜ìœ¼ë©´
                tmp.append((tx,ty)) # ì¶”ê°€
        killed += tmp # ëˆ„ì 
    if mx < len(killed):
        mx = len(killed)

print(mx)
```

- êµ¬í˜„