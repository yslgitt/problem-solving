# ğŸ‘» 1504. íŠ¹ì •í•œ ìµœë‹¨ ê²½ë¡œ

[ğŸ“ ë¬¸ì œë§í¬]: https://www.acmicpc.net/problem/1504



#### ğŸ’â€â™€ï¸ ë¬¸ì œ ì„¤ëª…

ë°©í–¥ì„±ì´ ì—†ëŠ” ê·¸ë˜í”„ê°€ ì£¼ì–´ì§„ë‹¤. ì„¸ì¤€ì´ëŠ” 1ë²ˆ ì •ì ì—ì„œ Në²ˆ ì •ì ìœ¼ë¡œ ìµœë‹¨ ê±°ë¦¬ë¡œ ì´ë™í•˜ë ¤ê³  í•œë‹¤. ë˜í•œ ì„¸ì¤€ì´ëŠ” ë‘ ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ì„œ ì´ë™í•˜ëŠ” íŠ¹ì •í•œ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•˜ê³  ì‹¶ì€ë°, ê·¸ê²ƒì€ ë°”ë¡œ ì„ì˜ë¡œ ì£¼ì–´ì§„ ë‘ ì •ì ì€ ë°˜ë“œì‹œ í†µê³¼í•´ì•¼ í•œë‹¤ëŠ” ê²ƒì´ë‹¤.

ì„¸ì¤€ì´ëŠ” í•œë²ˆ ì´ë™í–ˆë˜ ì •ì ì€ ë¬¼ë¡ , í•œë²ˆ ì´ë™í–ˆë˜ ê°„ì„ ë„ ë‹¤ì‹œ ì´ë™í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë°˜ë“œì‹œ ìµœë‹¨ ê²½ë¡œë¡œ ì´ë™í•´ì•¼ í•œë‹¤ëŠ” ì‚¬ì‹¤ì— ì£¼ì˜í•˜ë¼. 1ë²ˆ ì •ì ì—ì„œ Në²ˆ ì •ì ìœ¼ë¡œ ì´ë™í•  ë•Œ, ì£¼ì–´ì§„ ë‘ ì •ì ì„ ë°˜ë“œì‹œ ê±°ì¹˜ë©´ì„œ ìµœë‹¨ ê²½ë¡œë¡œ ì´ë™í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.



##### ì…ë ¥

> ì²«ì§¸ ì¤„ì— ì •ì ì˜ ê°œìˆ˜ Nê³¼ ê°„ì„ ì˜ ê°œìˆ˜ Eê°€ ì£¼ì–´ì§„ë‹¤. (2 â‰¤ N â‰¤ 800, 0 â‰¤ E â‰¤ 200,000) ë‘˜ì§¸ ì¤„ë¶€í„° Eê°œì˜ ì¤„ì— ê±¸ì³ì„œ ì„¸ ê°œì˜ ì •ìˆ˜ a, b, cê°€ ì£¼ì–´ì§€ëŠ”ë°, aë²ˆ ì •ì ì—ì„œ bë²ˆ ì •ì ê¹Œì§€ ì–‘ë°©í–¥ ê¸¸ì´ ì¡´ì¬í•˜ë©°, ê·¸ ê±°ë¦¬ê°€ cë¼ëŠ” ëœ»ì´ë‹¤. (1 â‰¤ c â‰¤ 1,000) ë‹¤ìŒ ì¤„ì—ëŠ” ë°˜ë“œì‹œ ê±°ì³ì•¼ í•˜ëŠ” ë‘ ê°œì˜ ì„œë¡œ ë‹¤ë¥¸ ì •ì  ë²ˆí˜¸ v1ê³¼ v2ê°€ ì£¼ì–´ì§„ë‹¤. (v1 â‰  v2, v1 â‰  N, v2 â‰  1) ì„ì˜ì˜ ë‘ ì •ì  uì™€ vì‚¬ì´ì—ëŠ” ê°„ì„ ì´ ìµœëŒ€ 1ê°œ ì¡´ì¬í•œë‹¤.



ì¶œë ¥

> ì²«ì§¸ ì¤„ì— ë‘ ê°œì˜ ì •ì ì„ ì§€ë‚˜ëŠ” ìµœë‹¨ ê²½ë¡œì˜ ê¸¸ì´ë¥¼ ì¶œë ¥í•œë‹¤. ê·¸ëŸ¬í•œ ê²½ë¡œê°€ ì—†ì„ ë•Œì—ëŠ” -1ì„ ì¶œë ¥í•œë‹¤.



---------------------------



#### ğŸ¤¸â€â™‚ï¸ ë¬¸ì œ í•´ê²°

```python
import sys
import heapq

input = sys.stdin.readline

N, E = map(int,input().split())
graph = [[] for _ in range(N+1)]

for _ in range(E):
    a, b, c = map(int,input().split())
    graph[a].append((b, c))
    graph[b].append((a, c))

def dijkstra(start):
    distance = [1e9]*(N+1)
    distance[start] = 0
    q = []
    heapq.heappush(q, [0, start])

    while q:
        d, now = heapq.heappop(q)

        if distance[now] < d:
            continue

        for n, c in graph[now]:
            if d + c < distance[n]:
                distance[n] = d + c
                heapq.heappush(q, [distance[n], n])

    return distance

u, v = map(int,input().split())

d1 = dijkstra(1)
d2 = dijkstra(u)
d3 = dijkstra(v)

ans = min(d1[u] + d2[v] + d3[N], d1[v] + d3[u] + d2[N])

if ans < 1e9:
    print(ans)
else:
    print(-1)
```



